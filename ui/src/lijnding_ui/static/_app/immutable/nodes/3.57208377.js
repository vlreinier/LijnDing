import{s as $,n as J,e as K}from"../chunks/scheduler.e108d1fd.js";import{S as Q,i as W,s as E,g as d,m as N,y as X,f as u,c as x,h as _,j as S,z as G,n as P,k as D,a as T,x as i,A as Z,o as F}from"../chunks/index.d0e9277d.js";import{e as L}from"../chunks/each.e59479a4.js";import{p as ee}from"../chunks/stores.58b759cb.js";function M(c,e,n){const l=c.slice();return l[5]=e[n],l[7]=n,l}function te(c){let e,n=L(c[0]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Y(M(c,n,s));return{c(){e=d("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=_(s,"DIV",{class:!0});var o=S(e);for(let t=0;t<l.length;t+=1)l[t].l(o);o.forEach(u),this.h()},h(){D(e,"class","space-y-4")},m(s,o){T(s,e,o);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(s,o){if(o&1){n=L(s[0]);let t;for(t=0;t<n.length;t+=1){const a=M(s,n,t);l[t]?l[t].p(a,o):(l[t]=Y(a),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(s){s&&u(e),Z(l,s)}}}function le(c){let e,n,l="Error:",s,o;return{c(){e=d("div"),n=d("strong"),n.textContent=l,s=E(),o=N(c[1]),this.h()},l(t){e=_(t,"DIV",{class:!0});var a=S(e);n=_(a,"STRONG",{"data-svelte-h":!0}),G(n)!=="svelte-1s1dywc"&&(n.textContent=l),s=x(a),o=P(a,c[1]),a.forEach(u),this.h()},h(){D(e,"class","text-red-500 bg-red-100 p-4 rounded")},m(t,a){T(t,e,a),i(e,n),i(e,s),i(e,o)},p(t,a){a&2&&F(o,t[1])},d(t){t&&u(e)}}}function U(c){let e,n,l="Stage:",s,o=c[5].stage_name+"",t;return{c(){e=d("p"),n=d("strong"),n.textContent=l,s=E(),t=N(o)},l(a){e=_(a,"P",{});var r=S(e);n=_(r,"STRONG",{"data-svelte-h":!0}),G(n)!=="svelte-s88cxk"&&(n.textContent=l),s=x(r),t=P(r,o),r.forEach(u)},m(a,r){T(a,e,r),i(e,n),i(e,s),i(e,t)},p(a,r){r&1&&o!==(o=a[5].stage_name+"")&&F(t,o)},d(a){a&&u(e)}}}function z(c){let e,n,l="Time:",s,o=c[5].time_taken.toFixed(4)+"",t,a;return{c(){e=d("p"),n=d("strong"),n.textContent=l,s=E(),t=N(o),a=N("s")},l(r){e=_(r,"P",{});var f=S(e);n=_(f,"STRONG",{"data-svelte-h":!0}),G(n)!=="svelte-ox4cyx"&&(n.textContent=l),s=x(f),t=P(f,o),a=P(f,"s"),f.forEach(u)},m(r,f){T(r,e,f),i(e,n),i(e,s),i(e,t),i(e,a)},p(r,f){f&1&&o!==(o=r[5].time_taken.toFixed(4)+"")&&F(t,o)},d(r){r&&u(e)}}}function H(c){let e,n,l="Error:",s,o=c[5].error+"",t;return{c(){e=d("p"),n=d("strong"),n.textContent=l,s=E(),t=N(o),this.h()},l(a){e=_(a,"P",{class:!0});var r=S(e);n=_(r,"STRONG",{"data-svelte-h":!0}),G(n)!=="svelte-1s1dywc"&&(n.textContent=l),s=x(r),t=P(r,o),r.forEach(u),this.h()},h(){D(e,"class","text-red-500")},m(a,r){T(a,e,r),i(e,n),i(e,s),i(e,t)},p(a,r){r&1&&o!==(o=a[5].error+"")&&F(t,o)},d(a){a&&u(e)}}}function Y(c){let e,n,l,s="Event:",o,t=c[5].event+"",a,r,f,A,I,R,w,C="Raw Data",p,b,y=JSON.stringify(c[5],null,2)+"",O,V,v=c[5].stage_name&&U(c),g=c[5].time_taken&&z(c),k=c[5].error&&H(c);return{c(){e=d("div"),n=d("p"),l=d("strong"),l.textContent=s,o=E(),a=N(t),r=E(),v&&v.c(),f=E(),g&&g.c(),A=E(),k&&k.c(),I=E(),R=d("details"),w=d("summary"),w.textContent=C,p=E(),b=d("pre"),O=N(y),V=E(),this.h()},l(m){e=_(m,"DIV",{class:!0});var h=S(e);n=_(h,"P",{});var j=S(n);l=_(j,"STRONG",{"data-svelte-h":!0}),G(l)!=="svelte-w0v85q"&&(l.textContent=s),o=x(j),a=P(j,t),j.forEach(u),r=x(h),v&&v.l(h),f=x(h),g&&g.l(h),A=x(h),k&&k.l(h),I=x(h),R=_(h,"DETAILS",{class:!0});var q=S(R);w=_(q,"SUMMARY",{"data-svelte-h":!0}),G(w)!=="svelte-1x6a51u"&&(w.textContent=C),p=x(q),b=_(q,"PRE",{class:!0});var B=S(b);O=P(B,y),B.forEach(u),q.forEach(u),V=x(h),h.forEach(u),this.h()},h(){D(b,"class","bg-gray-100 p-2 rounded mt-1 overflow-auto"),D(R,"class","mt-2"),D(e,"class","p-4 bg-white shadow rounded font-mono text-sm")},m(m,h){T(m,e,h),i(e,n),i(n,l),i(n,o),i(n,a),i(e,r),v&&v.m(e,null),i(e,f),g&&g.m(e,null),i(e,A),k&&k.m(e,null),i(e,I),i(e,R),i(R,w),i(R,p),i(R,b),i(b,O),i(e,V)},p(m,h){h&1&&t!==(t=m[5].event+"")&&F(a,t),m[5].stage_name?v?v.p(m,h):(v=U(m),v.c(),v.m(e,f)):v&&(v.d(1),v=null),m[5].time_taken?g?g.p(m,h):(g=z(m),g.c(),g.m(e,A)):g&&(g.d(1),g=null),m[5].error?k?k.p(m,h):(k=H(m),k.c(),k.m(e,I)):k&&(k.d(1),k=null),h&1&&y!==(y=JSON.stringify(m[5],null,2)+"")&&F(O,y)},d(m){m&&u(e),v&&v.d(),g&&g.d(),k&&k.d()}}}function ne(c){let e,n,l,s,o="← Back to all runs",t,a,r,f,A,I;document.title=e="Run "+c[2];function R(p,b){return p[1]?le:te}let w=R(c),C=w(c);return{c(){n=E(),l=d("div"),s=d("a"),s.textContent=o,t=E(),a=d("h1"),r=N("Run Details: "),f=d("span"),A=N(c[2]),I=E(),C.c(),this.h()},l(p){X("svelte-gdh8ke",document.head).forEach(u),n=x(p),l=_(p,"DIV",{class:!0});var y=S(l);s=_(y,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(s)!=="svelte-17ipbi5"&&(s.textContent=o),t=x(y),a=_(y,"H1",{class:!0});var O=S(a);r=P(O,"Run Details: "),f=_(O,"SPAN",{class:!0});var V=S(f);A=P(V,c[2]),V.forEach(u),O.forEach(u),I=x(y),C.l(y),y.forEach(u),this.h()},h(){D(s,"href","/"),D(s,"class","text-blue-500 hover:underline"),D(f,"class","font-mono"),D(a,"class","text-2xl font-bold my-4"),D(l,"class","container mx-auto p-4")},m(p,b){T(p,n,b),T(p,l,b),i(l,s),i(l,t),i(l,a),i(a,r),i(a,f),i(f,A),i(l,I),C.m(l,null)},p(p,[b]){b&4&&e!==(e="Run "+p[2])&&(document.title=e),w===(w=R(p))&&C?C.p(p,b):(C.d(1),C=w(p),C&&(C.c(),C.m(l,null)))},i:J,o:J,d(p){p&&(u(n),u(l)),C.d()}}}const se="http://localhost:8000";function ae(c,e,n){let l;K(c,ee,r=>n(3,l=r));let s=[],o=null;const t=l.params.run_id;async function a(){try{const r=await fetch(`${se}/api/runs/${t}`);if(!r.ok)throw new Error("Failed to fetch run details");const f=await r.json();n(0,s=f.events)}catch(r){n(1,o=r.message)}}return a(),[s,o,t]}class fe extends Q{constructor(e){super(),W(this,e,ae,ne,$,{})}}export{fe as component};
