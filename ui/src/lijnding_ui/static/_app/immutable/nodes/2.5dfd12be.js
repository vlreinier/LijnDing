import{s as S,n as k,o as z}from"../chunks/scheduler.e108d1fd.js";import{S as I,i as L,s as b,g as _,y as j,f as h,c as x,h as p,j as v,z as y,k as f,a as g,x as d,A as D,m as P,n as A,o as R}from"../chunks/index.d0e9277d.js";import{e as C}from"../chunks/each.e59479a4.js";function E(c,t,n){const e=c.slice();return e[2]=t[n],e}function N(c){let t,n=C(c[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=w(E(c,n,l));return{c(){t=_("ul");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=p(l,"UL",{class:!0});var a=v(t);for(let s=0;s<e.length;s+=1)e[s].l(a);a.forEach(h),this.h()},h(){f(t,"class","space-y-2")},m(l,a){g(l,t,a);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(t,null)},p(l,a){if(a&1){n=C(l[0]);let s;for(s=0;s<n.length;s+=1){const o=E(l,n,s);e[s]?e[s].p(o,a):(e[s]=w(o),e[s].c(),e[s].m(t,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(l){l&&h(t),D(e,l)}}}function $(c){let t,n="No pipeline runs found. Run a pipeline with the `--gui` flag to see it here.";return{c(){t=_("p"),t.textContent=n},l(e){t=p(e,"P",{"data-svelte-h":!0}),y(t)!=="svelte-vzdg70"&&(t.textContent=n)},m(e,l){g(e,t,l)},p:k,d(e){e&&h(t)}}}function U(c){let t,n,e="Error:",l,a;return{c(){t=_("div"),n=_("strong"),n.textContent=e,l=b(),a=P(c[1]),this.h()},l(s){t=p(s,"DIV",{class:!0});var o=v(t);n=p(o,"STRONG",{"data-svelte-h":!0}),y(n)!=="svelte-1s1dywc"&&(n.textContent=e),l=x(o),a=A(o,c[1]),o.forEach(h),this.h()},h(){f(t,"class","text-red-500 bg-red-100 p-4 rounded")},m(s,o){g(s,t,o),d(t,n),d(t,l),d(t,a)},p(s,o){o&2&&R(a,s[1])},d(s){s&&h(t)}}}function w(c){let t,n,e,l=c[2].run_id+"",a,s,o;return{c(){t=_("li"),n=_("a"),e=_("span"),a=P(l),o=b(),this.h()},l(i){t=p(i,"LI",{class:!0});var r=v(t);n=p(r,"A",{href:!0,class:!0});var u=v(n);e=p(u,"SPAN",{class:!0});var m=v(e);a=A(m,l),m.forEach(h),u.forEach(h),o=x(r),r.forEach(h),this.h()},h(){f(e,"class","font-mono"),f(n,"href",s="/run/"+c[2].run_id),f(n,"class","block"),f(t,"class","p-4 bg-white shadow rounded hover:bg-gray-50")},m(i,r){g(i,t,r),d(t,n),d(n,e),d(e,a),d(t,o)},p(i,r){r&1&&l!==(l=i[2].run_id+"")&&R(a,l),r&1&&s!==(s="/run/"+i[2].run_id)&&f(n,"href",s)},d(i){i&&h(t)}}}function V(c){let t,n,e,l="Pipeline Runs",a;function s(r,u){return r[1]?U:r[0].length===0?$:N}let o=s(c),i=o(c);return{c(){t=b(),n=_("div"),e=_("h1"),e.textContent=l,a=b(),i.c(),this.h()},l(r){j("svelte-vv8uzs",document.head).forEach(h),t=x(r),n=p(r,"DIV",{class:!0});var m=v(n);e=p(m,"H1",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-xzw20i"&&(e.textContent=l),a=x(m),i.l(m),m.forEach(h),this.h()},h(){document.title="LijnDing Pipeline Runs",f(e,"class","text-2xl font-bold mb-4"),f(n,"class","container mx-auto p-4")},m(r,u){g(r,t,u),g(r,n,u),d(n,e),d(n,a),i.m(n,null)},p(r,[u]){o===(o=s(r))&&i?i.p(r,u):(i.d(1),i=o(r),i&&(i.c(),i.m(n,null)))},i:k,o:k,d(r){r&&(h(t),h(n)),i.d()}}}const q="http://localhost:8000";function B(c,t,n){let e=[],l=null;return z(async()=>{try{const a=await fetch(`${q}/api/runs`);if(!a.ok)throw new Error("Failed to fetch runs");n(0,e=await a.json())}catch(a){n(1,l=a.message)}}),[e,l]}class M extends I{constructor(t){super(),L(this,t,B,V,S,{})}}export{M as component};
